webpackJsonp([15],{QwCM:function(t,e){},sjpX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mvHQ"),n=a.n(s),d=a("P9l9"),i={data:function(){return{userInfoData:{},list:[],storeId:"",openid:"",itemIndex:"-1"}},methods:{handleAdd:function(){this.$router.replace({path:"/addressManagement/add"})},handldCheckAddress:function(t,e){this.itemIndex=e;var a="?name="+t.name+"&tel="+t.tel+"&address="+t.address+"&address_detail="+t.address;this.$router.replace({path:"/buyGood"+a})},handleEdit:function(t){config.setCookie("editAddress",n()(t),7),this.$router.replace({path:"/addressManagement/add",query:{edit:"1"}})},getAddress:function(){var t=this,e={store_id:t.storeId,open_id:t.openid};t.$axios.post(d.a+"/c_account/get_user_contacts",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){e.data?t.list=e.data:config.layerMsg("出错了~",2)}).catch(function(){console.log("error")})},getData:function(){var t={store_id:this.storeId,open_id:this.openid};this.$axios.post(d.a+"/c_account/add_user_contact",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){t.data||config.layerMsg("出错了~",2)}).catch(function(){console.log("error")})},handleDel:function(t,e){var a=this,s={store_id:a.storeId,open_id:a.openid,data:{id:t.id}};a.$axios.post(d.a+"/c_account/del_user_contact",s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){0==t.data.error_code?(a.getAddress(),config.layerMsg("已删除",1)):config.layerMsg(t.data.msg,2)}).catch(function(){console.log("error")})},handleDefault:function(t,e){var a=this,s={store_id:a.storeId,open_id:a.openid,data:{id:t.id}};a.$axios.post(d.a+"/c_account/alter_default_address",s,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){0==t.data.error_code?a.getAddress():config.layerMsg(t.data.msg,2)}).catch(function(){console.log("error")})},forbidBack:function(){this.$router.replace({path:"/buyGood"})}},destroyed:function(){window.removeEventListener("popstate",this.forbidBack,!1)},mounted:function(){var t=this;config.isGoBack(t.forbidBack),t.$nextTick(function(){var e=config.getCookie("userInfoData");e&&(t.userInfoData=JSON.parse(e));var a=config.getCookie("userInfo");a&&(t.storeId=Number(JSON.parse(a).storeId));var s=config.getCookie("openid");s&&(t.openid=JSON.parse(s).open_id),t.getAddress()})}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"top"},[a("i",{staticClass:"top_close",on:{click:function(e){return t.forbidBack()}}}),t._v("\n        收货地址\n    ")]),t._v(" "),a("div",[a("div",{staticClass:"address_box"},[t._l(t.list,function(e,s){return a("div",{key:s,staticClass:"address_list",class:{check_address:s==t.itemIndex},on:{click:function(a){return t.handldCheckAddress(e,s)}}},[a("div",{staticClass:"address_xl"},[a("div",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"tel"},[t._v(t._s(e.tel))])]),t._v(" "),a("div",{staticClass:"address",staticStyle:{"margin-top":"0.2rem"}},[t._v(t._s(e.address))]),t._v(" "),a("div",{staticClass:"address"},[t._v(t._s(e.address_detail))]),t._v(" "),a("div",{staticClass:"btns"},[a("div",{staticClass:"set_default",on:{click:function(a){return t.handleDefault(e,s)}}},[a("i",{class:{default:1==e.if_default}}),t._v("默认地址")]),t._v(" "),a("div",{staticClass:"operation"},[a("div",{staticClass:"edit",on:{click:function(a){return t.handleEdit(e,s)}}}),a("div",{staticClass:"delet",on:{click:function(a){return t.handleDel(e,s)}}})])])])}),t._v(" "),a("div",{staticClass:"btn",on:{click:function(e){return t.handleAdd()}}},[t._v("添加地址")])],2)])])},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(t){a("QwCM")},"data-v-3604c905",null);e.default=r.exports}});